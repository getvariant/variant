<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Fri Dec 27 19:58:05 PST 2019 -->
<title>TraceEventFlusher (Variant Experience Server 0.10 JavaDoc)</title>
<meta name="date" content="2019-12-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TraceEventFlusher (Variant Experience Server 0.10 JavaDoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":18,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a onclick="window.top.location.href='http://getvariant.com';" href="#"> <img style="margin-bottom:5px;" src="http://getvariant.com/wp-content/uploads/2016/05/VariantLogoSmall.png"/> \</a>    <script>     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){           (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');     ga('create', 'UA-40337670-3', 'auto');                                                 ga('send', 'pageview');                                                              </script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/variant/server/api/TraceEvent.html" title="interface in com.variant.server.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/variant/server/api/TraceEventFlusher.html" target="_top">Frames</a></li>
<li><a href="TraceEventFlusher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.variant.server.api</div>
<h2 title="Interface TraceEventFlusher" class="title">Interface TraceEventFlusher</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">TraceEventFlusher</span></pre>
<div class="block"><p>Interface to be implemented by a user-supplied class, handling the writing of
 trace events to external storage. The implementation will be instantiated
 by Variant and is bound to a particular Variant schema. The implementation is defined
 by the <code>/meta/flusher</code> schema element. If no flusher is supplied in the schema,
 Variant will use the server-wide default, as provided by 
 <code>variant.event.flusher.class.name</code> and <code>variant.event.flusher.class.init</code> 
 configuration properties.
 
 <p>The implementation should expect Variant 
 server to periodically call <code>#flush(Collection)</code> with a collection of <a href="../../../../com/variant/server/api/FlushableTraceEvent.html" title="interface in com.variant.server.api"><code>FlushableTraceEvent</code></a>s,
 ready to be flushed to external storage. The frequency of this call and the likely number of events in the collection depend
 on the rate of event production and the following system properties:
 <ul>
 <li><code>variant.event.writer.buffer.size</code>: The maximum number of pending events that can be
 held in memory by the event writer. (Default = 20,000). If the rate of event production is too
 high and the event flusher can't keep up, new events will be discarded with the appropriate error
 message in the server's log.
 <li><code>variant.event.writer.max.delay</code>: The maximum delay, in seconds, a pending event will be
 held in memory. (Default = 30) If the rate of event production is too low, pending events may be
 stuck in memory for too long, risking being lost in the event of a server crash, or delaying a critical
 action further down the data pipeline. This property will force the event writer to flush pending
 events even if a large portion of the event buffer is still free.
  </ul>
 <p>
 An implementation must provide at least one public constructor: 
 <ol>
 <li>If no state initialization is required, i.e. the <code>variant.event.flusher.class.init</code> is <code>null</code>,
 the nullary constructor is sufficient.
 <li>If you need to pass an initial state to the newly constructed event flusher object, the implementation must provide
 a constructor which takes the single argument of type <a href="https://lightbend.github.io/config/latest/api/com/typesafe/config/Config.html" target="_blank">com.typesafe.config.Config</a>.
 Variant will invoke this constructor and pass it the parsed value of the <code>variant.event.flusher.class.init</code> 
 property.
 </ol>
 
 <p>Variant creates a new instance of the implementation class for each schema where it is defined.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/variant/server/api/TraceEventFlusher.html#destroy--">destroy</a></span>()</code>
<div class="block">Called by the server, whenever this event flusher is being destroyed because the associated schema generation is being undeployed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/variant/server/api/TraceEventFlusher.html#flush-com.variant.server.api.FlushableTraceEvent:A-int-">flush</a></span>(<a href="../../../../com/variant/server/api/FlushableTraceEvent.html" title="interface in com.variant.server.api">FlushableTraceEvent</a>[]&nbsp;events,
     int&nbsp;size)</code>
<div class="block">Called by the server whenever a new collection of trace events become available to be flushed out of memory.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="flush-com.variant.server.api.FlushableTraceEvent:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush(<a href="../../../../com/variant/server/api/FlushableTraceEvent.html" title="interface in com.variant.server.api">FlushableTraceEvent</a>[]&nbsp;events,
           int&nbsp;size)
    throws java.lang.Exception</pre>
<div class="block"><p>Called by the server whenever a new collection of trace events become available to be flushed out of memory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>events</code> - An array of decorated trace event objects of type <a href="../../../../com/variant/server/api/FlushableTraceEvent.html" title="interface in com.variant.server.api"><code>FlushableTraceEvent</code></a> to be flushed to an external
               data sync. The array length is guaranteed to be as given by the <code>variant.event.writer.flush.size</code>,
               although only first <code>size</code> elements are usable.</dd>
<dd><code>size</code> - The number of elements in the events array. Most of the time size will be equal to the length of the
               <code>events</code> array. But whenever the events production is slow enough for the 
               <code>variant.event.writer.max.delay</code> config parameter to become applicable, partial flushes may be
               trigger by the server.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7</dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>destroy</h4>
<pre>default&nbsp;void&nbsp;destroy()
              throws java.lang.Exception</pre>
<div class="block"><p>Called by the server, whenever this event flusher is being destroyed because the associated schema generation is being undeployed.
 Client code can use this callback to do housekeeping tasks such as closing database connections.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.10</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a onclick="window.top.location.href='http://getvariant.com';" href="#"> <img style="margin-bottom:5px;" src="http://getvariant.com/wp-content/uploads/2016/05/VariantLogoSmall.png"/> \</a>    <script>     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){           (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');     ga('create', 'UA-40337670-3', 'auto');                                                 ga('send', 'pageview');                                                              </script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/variant/server/api/TraceEvent.html" title="interface in com.variant.server.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/variant/server/api/TraceEventFlusher.html" target="_top">Frames</a></li>
<li><a href="TraceEventFlusher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Variant Experience Server release 0.10.3. Updated 27 Dec 2019.<br/> Copyright &copy; 2019 <a onclick="window.top.location.href='http://getvariant.com';" href="#">Variant Inc.</a></small></p>
</body>
</html>
